{
	"name": "Creator",
	"events": [
		{
			"eventType": "variable",
			"name": "CREATOR_maxPerPage",
			"type": "number",
			"initialValue": "12",
			"comment": "Max entries per page",
			"isStatic": false,
			"isConstant": true,
			"sid": 221133937328740
		},
		{
			"eventType": "variable",
			"name": "CREATOR_part",
			"type": "string",
			"initialValue": "head",
			"comment": "The part we currently have selected",
			"isStatic": false,
			"isConstant": false,
			"sid": 669241709430264
		},
		{
			"eventType": "variable",
			"name": "CREATOR_editing",
			"type": "boolean",
			"initialValue": "false",
			"comment": "Are we editing a character?",
			"isStatic": false,
			"isConstant": false,
			"sid": 361449043691647
		},
		{
			"eventType": "variable",
			"name": "CREATOR_editIndex",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 703881161290216
		},
		{
			"eventType": "variable",
			"name": "CREATOR_mode",
			"type": "string",
			"initialValue": "create",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 748897575366710
		},
		{
			"eventType": "include",
			"includeSheet": "Global"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 510203870714978
				}
			],
			"actions": [
				{
					"callFunction": "toggleLayer",
					"sid": 687167013853123,
					"parameters": [
						"\"Properties\"",
						true,
						false
					]
				},
				{
					"callFunction": "toggleLayer",
					"sid": 886596703259685,
					"parameters": [
						"\"Card\"",
						true,
						false
					]
				},
				{
					"callFunction": "switchMenu",
					"sid": 219645375666789,
					"parameters": [
						"\"Parts\""
					]
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 168735168063577,
					"parameters": {
						"variable": "MENU_offset",
						"value": "0"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 854788063786781,
					"parameters": {
						"variable": "CREATOR_part",
						"value": "\"head\""
					}
				},
				{
					"callFunction": "updatePartList",
					"sid": 168768680109422
				},
				{
					"id": "destroy",
					"objectClass": "CharacterCanvas",
					"sid": 342927959376332
				},
				{
					"id": "destroy",
					"objectClass": "Card",
					"sid": 714945940859381
				}
			],
			"sid": 915152436072914,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 719840953417189,
							"parameters": {
								"variable": "CREATOR_editing"
							}
						}
					],
					"actions": [
						{
							"callFunction": "renderCharacter",
							"sid": 579964046861319,
							"parameters": [
								"GAME_selectedCharacterData",
								"\"Character\"",
								"76",
								"152",
								"1",
								"\"\"",
								"0"
							]
						}
					],
					"sid": 415855805329650
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 275784606268611
						}
					],
					"actions": [
						{
							"id": "request-project-file",
							"objectClass": "AJAX",
							"sid": 792961067476377,
							"parameters": {
								"tag": "\"json\"",
								"file": "character.json"
							}
						}
					],
					"sid": 236807320259607
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-completed",
					"objectClass": "AJAX",
					"sid": 899257260846407,
					"parameters": {
						"tag": "\"json\""
					}
				}
			],
			"actions": [
				{
					"callFunction": "renderCharacter",
					"sid": 272792340843555,
					"parameters": [
						"AJAX.LastData",
						"\"Character\"",
						"76",
						"152",
						"1",
						"\"\"",
						"0"
					]
				}
			],
			"sid": 221188305471193
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Creator - Parts",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "updatePartList",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 197197766992709,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 556657013435807,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"part\""
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "Button",
									"sid": 221444028836212
								}
							],
							"sid": 914803077263062
						},
						{
							"eventType": "comment",
							"text": "Set title"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Text",
									"sid": 418958402494516,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"title\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "Text",
									"sid": 424153651760735,
									"parameters": {
										"text": "Parts.At(Parts.IndexOf(CREATOR_part), 6)"
									}
								}
							],
							"sid": 464993523959894
						},
						{
							"eventType": "comment",
							"text": "Loop"
						},
						{
							"eventType": "variable",
							"name": "total",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 359590355631904
						},
						{
							"eventType": "variable",
							"name": "start",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 337623734995136
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "CharacterPart",
									"sid": 125983208525298,
									"parameters": {
										"animation": "CREATOR_part",
										"from": "beginning"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 754690901425857,
									"parameters": {
										"variable": "total",
										"value": "CREATOR_part = \"head\" ? CharacterHead.AnimationFrameCount : CharacterPart.AnimationFrameCount"
									}
								},
								{
									"type": "comment",
									"text": "Optional parts get an additional blank option"
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 115179102695497,
									"parameters": {
										"variable": "start",
										"value": "Parts.At(Parts.IndexOf(CREATOR_part), 7)"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 382476212040072,
									"parameters": {
										"variable": "total",
										"value": "abs(start)"
									}
								}
							],
							"sid": 156779517375942,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Text",
											"sid": 233302562071176,
											"parameters": {
												"instance-variable": "type",
												"comparison": 0,
												"value": "\"title\""
											}
										}
									],
									"actions": [
										{
											"id": "append-text",
											"objectClass": "Text",
											"sid": 197856818583097,
											"parameters": {
												"text": "newline&\"(\"&total+start&\" Types)\""
											}
										}
									],
									"sid": 437739747073029
								},
								{
									"eventType": "comment",
									"text": "Loop through creating part buttons"
								},
								{
									"eventType": "variable",
									"name": "created",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 171369619442111
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 682971197181751,
											"parameters": {
												"name": "\"i\"",
												"start-index": "start+MENU_offset*CREATOR_maxPerPage",
												"end-index": "min((MENU_offset*CREATOR_maxPerPage)+CREATOR_maxPerPage-1, total-1)+start"
											}
										}
									],
									"actions": [
										{
											"callFunction": "addPartToList",
											"sid": 904098520424496,
											"parameters": [
												"created",
												"loopindex"
											]
										},
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 957517350133105,
											"parameters": {
												"variable": "created",
												"value": "1"
											}
										}
									],
									"sid": 200733358433894
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"callFunction": "updatePartArrows",
											"sid": 352039323755501,
											"parameters": [
												"total"
											]
										}
									],
									"sid": 722323770724719
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Disable the properties button if this part has none"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 398998100407909,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"properties\""
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Button",
									"sid": 976558635614622,
									"parameters": {
										"instance-variable": "disabled",
										"value": "false"
									}
								}
							],
							"sid": 415892039625168,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-at-xy",
											"objectClass": "Parts",
											"sid": 603056001306706,
											"parameters": {
												"x": "Self.IndexOf(CREATOR_part)",
												"y": "1",
												"comparison": 0,
												"value": "\"static\""
											}
										},
										{
											"id": "has-key",
											"objectClass": "JSON",
											"sid": 462033366041731,
											"parameters": {
												"path": "\"character_data.placeable_movable.\"&CREATOR_part&\".asset_id\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "Button",
											"sid": 755764355162883,
											"parameters": {
												"instance-variable": "disabled",
												"value": "true"
											}
										}
									],
									"sid": 291324576768077,
									"isOrBlock": true
								}
							]
						}
					]
				},
				{
					"functionName": "addPartToList",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "index",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 312441240667047
						},
						{
							"name": "id",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 726872098631080
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 472014457085618,
							"parameters": {
								"object-to-create": "Button",
								"layer": "\"Parts\"",
								"x": "0",
								"y": "0",
								"create-hierarchy": false,
								"template-name": "\"part\""
							}
						},
						{
							"id": "set-position",
							"objectClass": "Button",
							"sid": 559418455210236,
							"parameters": {
								"x": "156+Button.Width/2+(Button.Width+4)*(index%4)",
								"y": "96+Button.Height/2+(Button.Height+4)*floor(index/4)"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Button",
							"sid": 683409007459595,
							"parameters": {
								"instance-variable": "id",
								"value": "id"
							}
						}
					],
					"sid": 654693967399990,
					"children": [
						{
							"eventType": "comment",
							"text": "Create heads"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 724494977586868,
									"parameters": {
										"variable": "CREATOR_part",
										"comparison": 0,
										"value": "\"head\""
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 638389206543029,
									"parameters": {
										"object-to-create": "CharacterHead",
										"layer": "\"Parts\"",
										"x": "Button.X",
										"y": "Button.Y",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "add-child",
									"objectClass": "Button",
									"sid": 789852171531298,
									"parameters": {
										"child": "CharacterHead",
										"transform-x": false,
										"transform-y": false,
										"transform-w": false,
										"transform-h": false,
										"transform-a": false,
										"transform-o": false,
										"transform-z-elevation": false,
										"transform-visibility": false,
										"destroy-with-parent": true
									}
								},
								{
									"id": "stop-animation",
									"objectClass": "CharacterHead",
									"sid": 617774827376027
								},
								{
									"id": "set-animation-frame",
									"objectClass": "CharacterHead",
									"sid": 438222098579529,
									"parameters": {
										"frame-number": "Button.id"
									}
								},
								{
									"id": "set-size",
									"objectClass": "CharacterHead",
									"sid": 243706398969890,
									"parameters": {
										"width": "(Self.Width <= 32 & Self.Height <= 32) ? Self.Width : Self.Width * min(32 / Self.Width, 32 / Self.Height)",
										"height": "(Self.Width <= 32 & Self.Height <= 32) ? Self.Height: Self.Height* min(32 / Self.Width, 32 / Self.Height)"
									}
								}
							],
							"sid": 888724804581611
						},
						{
							"eventType": "comment",
							"text": "Create not heads"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 235737268806544
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 515284159054261,
									"parameters": {
										"first-value": "id",
										"comparison": 4,
										"second-value": "-1"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 562491131186483,
									"parameters": {
										"object-to-create": "CharacterPart",
										"layer": "\"Parts\"",
										"x": "Button.X",
										"y": "Button.Y",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "add-child",
									"objectClass": "Button",
									"sid": 976675598162955,
									"parameters": {
										"child": "CharacterPart",
										"transform-x": false,
										"transform-y": false,
										"transform-w": false,
										"transform-h": false,
										"transform-a": false,
										"transform-o": false,
										"transform-z-elevation": false,
										"transform-visibility": false,
										"destroy-with-parent": true
									}
								},
								{
									"id": "set-animation",
									"objectClass": "CharacterPart",
									"sid": 694406608875363,
									"parameters": {
										"animation": "CREATOR_part",
										"from": "beginning"
									}
								},
								{
									"id": "stop-animation",
									"objectClass": "CharacterPart",
									"sid": 188765239277108
								},
								{
									"id": "set-animation-frame",
									"objectClass": "CharacterPart",
									"sid": 610043278587105,
									"parameters": {
										"frame-number": "Button.id"
									}
								},
								{
									"id": "set-size",
									"objectClass": "CharacterPart",
									"sid": 259935134706615,
									"parameters": {
										"width": "(Self.Width <= 32 & Self.Height <= 32) ? Self.Width : Self.Width * min(32 / Self.Width, 32 / Self.Height)\n",
										"height": "(Self.Width <= 32 & Self.Height <= 32) ? Self.Height: Self.Height* min(32 / Self.Width, 32 / Self.Height)\n"
									}
								},
								{
									"id": "set-position",
									"objectClass": "CharacterPart",
									"sid": 263417364506471,
									"parameters": {
										"x": "Self.X+(Self.ImagePointX(0)-Self.ImagePointX(1))",
										"y": "Self.Y+(Self.ImagePointY(0)-Self.ImagePointY(1))"
									}
								}
							],
							"sid": 443764484665939
						}
					]
				},
				{
					"functionName": "updatePartArrows",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "total",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 984529412844304
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 657579817322540,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Text",
									"sid": 492987646598102,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"page\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "Text",
									"sid": 464318187816174,
									"parameters": {
										"text": "\"Page \"&MENU_offset+1&\" of \"&max(ceil(total/CREATOR_maxPerPage), 1)"
									}
								}
							],
							"sid": 626104108463318
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 948258772534558,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"left\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 456315348398868,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"right\""
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Button",
									"sid": 979593551699450,
									"parameters": {
										"instance-variable": "disabled",
										"value": "true"
									}
								}
							],
							"sid": 860868122237286,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Button",
											"sid": 690536286763099,
											"parameters": {
												"instance-variable": "type",
												"comparison": 0,
												"value": "\"left\""
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 470198694873196,
											"parameters": {
												"variable": "MENU_offset",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "Button",
											"sid": 170692841267350,
											"parameters": {
												"instance-variable": "disabled",
												"value": "false"
											}
										}
									],
									"sid": 612036336411133
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Button",
											"sid": 931562511293320,
											"parameters": {
												"instance-variable": "type",
												"comparison": 0,
												"value": "\"right\""
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 320073559524859,
											"parameters": {
												"variable": "MENU_offset",
												"comparison": 2,
												"value": "ceil(total/CREATOR_maxPerPage)-1"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "Button",
											"sid": 951639320421933,
											"parameters": {
												"instance-variable": "disabled",
												"value": "false"
											}
										}
									],
									"sid": 287352446658094
								}
							],
							"isOrBlock": true
						}
					]
				}
			],
			"sid": 787500170176923
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Creator - Buttons (Parts & Properties)",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Back"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 279560294640027,
							"parameters": {
								"tag": "\"button_back\""
							}
						}
					],
					"actions": [],
					"sid": 496316260896680,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 245557371150961,
									"parameters": {
										"variable": "MENU_overlayMenu",
										"comparison": 0,
										"value": "\"\""
									}
								}
							],
							"actions": [
								{
									"id": "play",
									"objectClass": "Audio",
									"sid": 638734942231066,
									"parameters": {
										"audio-file": "select",
										"loop": "not-looping",
										"volume": "(log10(SETTING_volumeSound)*20)",
										"stereo-pan": "0",
										"tag-optional": "\"\""
									}
								},
								{
									"callFunction": "transition",
									"sid": 978330546675560,
									"parameters": [
										"\"Plaza\""
									]
								}
							],
							"sid": 418988052381553
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 408257903565856
								}
							],
							"actions": [
								{
									"id": "play",
									"objectClass": "Audio",
									"sid": 779407256262719,
									"parameters": {
										"audio-file": "select",
										"loop": "not-looping",
										"volume": "(log10(SETTING_volumeSound)*20)",
										"stereo-pan": "0",
										"tag-optional": "\"\""
									}
								},
								{
									"callFunction": "switchOverlayMenu",
									"sid": 153090327955659,
									"parameters": [
										"\"\""
									]
								}
							],
							"sid": 618154636119559
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Category"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 151456243062756,
							"parameters": {
								"tag": "\"button_category\""
							}
						}
					],
					"actions": [
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 777073502589611,
							"parameters": {
								"audio-file": "select",
								"loop": "not-looping",
								"volume": "(log10(SETTING_volumeSound)*20)",
								"stereo-pan": "0",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 614366981837630,
							"parameters": {
								"variable": "MENU_offset",
								"value": "0"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 841522615350166,
							"parameters": {
								"variable": "CREATOR_part",
								"value": "Parts.At(MENU_buttonID, 0)"
							}
						},
						{
							"callFunction": "switchMenu",
							"sid": 286175303607358,
							"parameters": [
								"\"Parts\""
							]
						},
						{
							"callFunction": "updatePartList",
							"sid": 513104011956633
						}
					],
					"sid": 790434031002692
				},
				{
					"eventType": "comment",
					"text": "Part"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 288531597937319,
							"parameters": {
								"tag": "\"button_part\""
							}
						}
					],
					"actions": [
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 528718702280398,
							"parameters": {
								"audio-file": "select",
								"loop": "not-looping",
								"volume": "(log10(SETTING_volumeSound)*20)",
								"stereo-pan": "0",
								"tag-optional": "\"\""
							}
						}
					],
					"sid": 878803648830817,
					"children": [
						{
							"eventType": "comment",
							"text": "Delete an optional part"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 435613335367823,
									"parameters": {
										"variable": "MENU_buttonID",
										"comparison": 2,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "delete-key",
									"objectClass": "JSON",
									"sid": 901638366060429,
									"parameters": {
										"path": "\"character_data.\"&Parts.At(Parts.IndexOf(CREATOR_part), 1)&\".\"&CREATOR_part"
									}
								}
							],
							"sid": 396094033793751
						},
						{
							"eventType": "comment",
							"text": "Update part asset ID, create optional part if it doesn't exist"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 531367486038304
								}
							],
							"actions": [
								{
									"id": "set-value",
									"objectClass": "JSON",
									"sid": 441969255878322,
									"parameters": {
										"path": "\"character_data.\"&Parts.At(Parts.IndexOf(CREATOR_part), 1)&\".\"&CREATOR_part&\".asset_id\"",
										"value": "MENU_buttonID"
									}
								}
							],
							"sid": 881342347813210,
							"children": [
								{
									"eventType": "comment",
									"text": "Handle baldness"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 752058793870831,
											"parameters": {
												"variable": "CREATOR_part",
												"comparison": 0,
												"value": "\"hair\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Button",
											"sid": 294185216167320,
											"parameters": {
												"instance-variable": "id",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [],
									"sid": 399804821270139,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 715077106871479,
													"parameters": {
														"variable": "MENU_buttonID",
														"comparison": 0,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "set-value",
													"objectClass": "JSON",
													"sid": 462574048208966,
													"parameters": {
														"path": "\"character_data.info.hair_color\"",
														"value": "\"bald\""
													}
												}
											],
											"sid": 109437274323632
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 528435536826028
												}
											],
											"actions": [
												{
													"type": "script",
													"language": "typescript",
													"script": [
														"const json_object = runtime.objects.JSON.getFirstInstance();",
														"if (!json_object) return;",
														"",
														"const previousHairColor = json_object.getJsonDataCopy().character_data?.info?.hair_color;",
														"if (previousHairColor === \"bald\") {",
														"  setJSONValue(json_object, \"character_data.info.hair_color\", \"black\");",
														"}"
													]
												}
											],
											"sid": 193065821622743
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Refresh the character"
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"callFunction": "validateProperties",
									"sid": 909673031137454,
									"parameters": [
										"CREATOR_part"
									]
								},
								{
									"id": "destroy",
									"objectClass": "CharacterCanvas",
									"sid": 918382767680624
								},
								{
									"callFunction": "renderCharacter",
									"sid": 352183521062049,
									"parameters": [
										"JSON.ToCompactString",
										"\"Character\"",
										"76",
										"152",
										"1",
										"\"\"",
										"0"
									]
								}
							],
							"sid": 961734081320414
						},
						{
							"eventType": "comment",
							"text": "Disable the properties button if this part has none"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 873348233498669,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"properties\""
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Button",
									"sid": 426726125814559,
									"parameters": {
										"instance-variable": "disabled",
										"value": "false"
									}
								}
							],
							"sid": 664574963025564,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "has-key",
											"objectClass": "JSON",
											"sid": 338650797639864,
											"parameters": {
												"path": "\"character_data.placeable_movable.\"&CREATOR_part&\".asset_id\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "Button",
											"sid": 850764208758187,
											"parameters": {
												"instance-variable": "disabled",
												"value": "true"
											}
										}
									],
									"sid": 381998397837750
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Left"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 696443776084363,
							"parameters": {
								"tag": "\"button_left\""
							}
						}
					],
					"actions": [
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 662291675231140,
							"parameters": {
								"audio-file": "select",
								"loop": "not-looping",
								"volume": "(log10(SETTING_volumeSound)*20)",
								"stereo-pan": "0",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "subtract-from-eventvar",
							"objectClass": "System",
							"sid": 252102890889733,
							"parameters": {
								"variable": "MENU_offset",
								"value": "1"
							}
						},
						{
							"callFunction": "updatePartList",
							"sid": 849223970383734
						}
					],
					"sid": 832369193383467
				},
				{
					"eventType": "comment",
					"text": "Right"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 331475008213871,
							"parameters": {
								"tag": "\"button_right\""
							}
						}
					],
					"actions": [
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 845886273190865,
							"parameters": {
								"audio-file": "select",
								"loop": "not-looping",
								"volume": "(log10(SETTING_volumeSound)*20)",
								"stereo-pan": "0",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 823832476304233,
							"parameters": {
								"variable": "MENU_offset",
								"value": "1"
							}
						},
						{
							"callFunction": "updatePartList",
							"sid": 220814230082685
						}
					],
					"sid": 831365675019774
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 285199257997235,
							"parameters": {
								"tag": "\"buttonE_left\""
							}
						},
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 199528026056092,
							"parameters": {
								"tag": "\"buttonE_right\""
							}
						}
					],
					"actions": [
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 456694935701862,
							"parameters": {
								"audio-file": "error",
								"loop": "not-looping",
								"volume": "(log10(SETTING_volumeSound)*20)",
								"stereo-pan": "0",
								"tag-optional": "\"\""
							}
						}
					],
					"sid": 621343063842777,
					"isOrBlock": true
				},
				{
					"eventType": "comment",
					"text": "Properties"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 884329867354721,
							"parameters": {
								"tag": "\"button_properties\""
							}
						}
					],
					"actions": [
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 410730118448242,
							"parameters": {
								"audio-file": "select",
								"loop": "not-looping",
								"volume": "(log10(SETTING_volumeSound)*20)",
								"stereo-pan": "0",
								"tag-optional": "\"\""
							}
						}
					],
					"sid": 476432876869240,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 565479557817931,
									"parameters": {
										"variable": "MENU_menu",
										"comparison": 0,
										"value": "\"Properties\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"callFunction": "switchMenu",
									"sid": 961208637893787,
									"parameters": [
										"\"Properties\""
									]
								},
								{
									"callFunction": "refreshPropertyButtons",
									"sid": 406764302788758
								}
							],
							"sid": 727250600803449
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 179105241339991
								}
							],
							"actions": [
								{
									"callFunction": "switchMenu",
									"sid": 789401400493684,
									"parameters": [
										"\"Parts\""
									]
								}
							],
							"sid": 357792736358137
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 721727203496261,
							"parameters": {
								"tag": "\"buttonE_properties\""
							}
						}
					],
					"actions": [
						{
							"callFunction": "error",
							"sid": 166885973451446,
							"parameters": [
								"\"This part type has no modifiable properties.\""
							]
						}
					],
					"sid": 536524801453733
				},
				{
					"eventType": "comment",
					"text": "Property"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 224066148594677,
							"parameters": {
								"tag": "\"button_property\""
							}
						}
					],
					"actions": [
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 114235271996449,
							"parameters": {
								"audio-file": "select",
								"loop": "not-looping",
								"volume": "(log10(SETTING_volumeSound)*20)",
								"stereo-pan": "0",
								"tag-optional": "\"\""
							}
						}
					],
					"sid": 465271423762950,
					"children": [
						{
							"eventType": "comment",
							"text": "Move left and right"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 307564454247708,
									"parameters": {
										"variable": "MENU_buttonID",
										"comparison": 0,
										"value": "0"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 230520274173223,
									"parameters": {
										"variable": "MENU_buttonID",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"callFunction": "setValue",
									"sid": 119618755367892,
									"parameters": [
										"CREATOR_part",
										"\"offset_x\"",
										"Functions.getValue(CREATOR_part, \"offset_x\")+(((MENU_buttonID%2)*2-1)*0.1)"
									]
								}
							],
							"sid": 824708222690968,
							"isOrBlock": true
						},
						{
							"eventType": "comment",
							"text": "Move up and down"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 448072341596315,
									"parameters": {
										"variable": "MENU_buttonID",
										"comparison": 0,
										"value": "2"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 428232227133203,
									"parameters": {
										"variable": "MENU_buttonID",
										"comparison": 0,
										"value": "3"
									}
								}
							],
							"actions": [
								{
									"callFunction": "setValue",
									"sid": 399411087937001,
									"parameters": [
										"CREATOR_part",
										"\"offset_y\"",
										"Functions.getValue(CREATOR_part, \"offset_y\")+(((MENU_buttonID%2)*2-1)*0.1)"
									]
								}
							],
							"sid": 163282972067959,
							"isOrBlock": true
						},
						{
							"eventType": "comment",
							"text": "Shrink and grow"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 382610250274506,
									"parameters": {
										"variable": "MENU_buttonID",
										"comparison": 0,
										"value": "4"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 190546231317281,
									"parameters": {
										"variable": "MENU_buttonID",
										"comparison": 0,
										"value": "5"
									}
								}
							],
							"actions": [
								{
									"callFunction": "setValue",
									"sid": 543092665607254,
									"parameters": [
										"CREATOR_part",
										"\"scale\"",
										"Functions.getValue(CREATOR_part, \"scale\")+(((MENU_buttonID%2)*2-1)*0.1)"
									]
								}
							],
							"sid": 629202374808822,
							"isOrBlock": true
						},
						{
							"eventType": "comment",
							"text": "Rotate left and right"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 900647940504191,
									"parameters": {
										"variable": "MENU_buttonID",
										"comparison": 0,
										"value": "6"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 985337247325856,
									"parameters": {
										"variable": "MENU_buttonID",
										"comparison": 0,
										"value": "7"
									}
								}
							],
							"actions": [
								{
									"callFunction": "setValue",
									"sid": 236239899414640,
									"parameters": [
										"CREATOR_part",
										"\"rotation\"",
										"Functions.getValue(CREATOR_part, \"rotation\")+(((MENU_buttonID%2)*2-1)*5)\n"
									]
								}
							],
							"sid": 697993564327418,
							"isOrBlock": true
						},
						{
							"eventType": "comment",
							"text": "Refresh the character"
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"callFunction": "refreshPropertyButtons",
									"sid": 206466375365270
								},
								{
									"callFunction": "validateProperties",
									"sid": 674892509924396,
									"parameters": [
										"CREATOR_part"
									]
								},
								{
									"id": "destroy",
									"objectClass": "CharacterCanvas",
									"sid": 476615070375229
								},
								{
									"callFunction": "renderCharacter",
									"sid": 797242860851136,
									"parameters": [
										"JSON.ToCompactString",
										"\"Character\"",
										"76",
										"152",
										"1",
										"\"\"",
										"0"
									]
								}
							],
							"sid": 240764351625436
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 453647986030518,
							"parameters": {
								"tag": "\"buttonE_property\""
							}
						}
					],
					"actions": [
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 354686081474238,
							"parameters": {
								"audio-file": "error",
								"loop": "not-looping",
								"volume": "(log10(SETTING_volumeSound)*20)",
								"stereo-pan": "0",
								"tag-optional": "\"\""
							}
						}
					],
					"sid": 170356378595615
				}
			],
			"sid": 568008500435798
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Creator - Properties",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "refreshPropertyButtons",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Button",
							"sid": 157297884604016,
							"parameters": {
								"instance-variable": "type",
								"comparison": 0,
								"value": "\"property\""
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "Button",
							"sid": 837746213732483,
							"parameters": {
								"instance-variable": "disabled",
								"value": "false"
							}
						}
					],
					"sid": 834961392935491,
					"children": [
						{
							"eventType": "comment",
							"text": "Offset X"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 179644865365941,
									"parameters": {
										"first-value": "Parts.At(Parts.IndexOf(CREATOR_part), 2)",
										"comparison": 3,
										"second-value": "0"
									}
								}
							],
							"actions": [],
							"sid": 462043944192193,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Button",
											"sid": 202908194208653,
											"parameters": {
												"instance-variable": "id",
												"comparison": 0,
												"value": "0"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Button",
											"sid": 764441908018152,
											"parameters": {
												"instance-variable": "id",
												"comparison": 0,
												"value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "Button",
											"sid": 489886847333163,
											"parameters": {
												"instance-variable": "disabled",
												"value": "true"
											}
										}
									],
									"sid": 548233216238067,
									"isOrBlock": true
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 985545777437038,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "0"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 289216755613319,
									"parameters": {
										"first-value": "Functions.getValue(CREATOR_part, \"offset_x\")",
										"comparison": 3,
										"second-value": "-1"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Button",
									"sid": 462009644545837,
									"parameters": {
										"instance-variable": "disabled",
										"value": "true"
									}
								}
							],
							"sid": 217303439924759
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 510550514641536,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "1"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 481459663613211,
									"parameters": {
										"first-value": "Functions.getValue(CREATOR_part, \"offset_x\")",
										"comparison": 5,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Button",
									"sid": 723956198762144,
									"parameters": {
										"instance-variable": "disabled",
										"value": "true"
									}
								}
							],
							"sid": 124864122585026
						},
						{
							"eventType": "comment",
							"text": "Offset Y"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 938945002869191,
									"parameters": {
										"first-value": "Parts.At(Parts.IndexOf(CREATOR_part), 3)",
										"comparison": 3,
										"second-value": "0"
									}
								}
							],
							"actions": [],
							"sid": 177776825351932,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Button",
											"sid": 107093837712935,
											"parameters": {
												"instance-variable": "id",
												"comparison": 0,
												"value": "2"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Button",
											"sid": 332445891166723,
											"parameters": {
												"instance-variable": "id",
												"comparison": 0,
												"value": "3"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "Button",
											"sid": 151817512757920,
											"parameters": {
												"instance-variable": "disabled",
												"value": "true"
											}
										}
									],
									"sid": 357030097077269,
									"isOrBlock": true
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 954038005492993,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "2"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 571597047163427,
									"parameters": {
										"first-value": "Functions.getValue(CREATOR_part, \"offset_y\")",
										"comparison": 3,
										"second-value": "-1"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Button",
									"sid": 324674423314417,
									"parameters": {
										"instance-variable": "disabled",
										"value": "true"
									}
								}
							],
							"sid": 935791930073696
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 188812501516511,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "3"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 599821028163868,
									"parameters": {
										"first-value": "Functions.getValue(CREATOR_part, \"offset_y\")",
										"comparison": 5,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Button",
									"sid": 853942938775842,
									"parameters": {
										"instance-variable": "disabled",
										"value": "true"
									}
								}
							],
							"sid": 430562745433781
						},
						{
							"eventType": "comment",
							"text": "Scale"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 701167156989278,
									"parameters": {
										"first-value": "Parts.At(Parts.IndexOf(CREATOR_part), 4)",
										"comparison": 3,
										"second-value": "0"
									}
								}
							],
							"actions": [],
							"sid": 684231308940975,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Button",
											"sid": 588424774256468,
											"parameters": {
												"instance-variable": "id",
												"comparison": 0,
												"value": "4"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Button",
											"sid": 183298553145116,
											"parameters": {
												"instance-variable": "id",
												"comparison": 0,
												"value": "5"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "Button",
											"sid": 891561450820994,
											"parameters": {
												"instance-variable": "disabled",
												"value": "true"
											}
										}
									],
									"sid": 982541463861613,
									"isOrBlock": true
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 378284273718610,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "4"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 946816345460458,
									"parameters": {
										"first-value": "Functions.getValue(CREATOR_part, \"scale\")",
										"comparison": 3,
										"second-value": "0.5"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Button",
									"sid": 780025459153189,
									"parameters": {
										"instance-variable": "disabled",
										"value": "true"
									}
								}
							],
							"sid": 800562064717054
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 820054219772227,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "5"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 138389655939825,
									"parameters": {
										"first-value": "Functions.getValue(CREATOR_part, \"scale\")",
										"comparison": 5,
										"second-value": "1.5"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Button",
									"sid": 864528117478474,
									"parameters": {
										"instance-variable": "disabled",
										"value": "true"
									}
								}
							],
							"sid": 768495016952571
						},
						{
							"eventType": "comment",
							"text": "Rotation"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 769274001627163,
									"parameters": {
										"first-value": "Parts.At(Parts.IndexOf(CREATOR_part), 5)",
										"comparison": 3,
										"second-value": "0"
									}
								}
							],
							"actions": [],
							"sid": 594602269192102,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Button",
											"sid": 118708798585065,
											"parameters": {
												"instance-variable": "id",
												"comparison": 0,
												"value": "6"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Button",
											"sid": 211263715113792,
											"parameters": {
												"instance-variable": "id",
												"comparison": 0,
												"value": "7"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "Button",
											"sid": 903624449405464,
											"parameters": {
												"instance-variable": "disabled",
												"value": "true"
											}
										}
									],
									"sid": 188838436610099,
									"isOrBlock": true
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 186689256758202,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "6"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 299751751257817,
									"parameters": {
										"first-value": "Functions.getValue(CREATOR_part, \"rotation\")",
										"comparison": 3,
										"second-value": "-Parts.At(Parts.IndexOf(CREATOR_part), 5)"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Button",
									"sid": 799366260636710,
									"parameters": {
										"instance-variable": "disabled",
										"value": "true"
									}
								}
							],
							"sid": 567788969163161
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 622247212487983,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "7"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 482283549317713,
									"parameters": {
										"first-value": "Functions.getValue(CREATOR_part, \"rotation\")",
										"comparison": 5,
										"second-value": "Parts.At(Parts.IndexOf(CREATOR_part), 5)"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Button",
									"sid": 637245608770874,
									"parameters": {
										"instance-variable": "disabled",
										"value": "true"
									}
								}
							],
							"sid": 687984112332801
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Validate all properties of a part"
				},
				{
					"functionName": "validateProperties",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "part",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 520459002523554
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "has-key",
							"objectClass": "JSON",
							"sid": 605392293589177,
							"parameters": {
								"path": "\"character_data.\"&Parts.At(Parts.IndexOf(CREATOR_part), 1)&\".\"&CREATOR_part"
							}
						}
					],
					"actions": [],
					"sid": 475096701312910,
					"children": [
						{
							"eventType": "comment",
							"text": "Offset X"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "has-key",
									"objectClass": "JSON",
									"sid": 643793017218809,
									"parameters": {
										"path": "\"character_data.\"&Parts.At(Parts.IndexOf(CREATOR_part), 1)&\".\"&CREATOR_part&\".offset_x\""
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 153827882567577,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-at-xy",
											"objectClass": "Parts",
											"sid": 521493168725892,
											"parameters": {
												"x": "Self.IndexOf(part)",
												"y": "2",
												"comparison": 1,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-value",
											"objectClass": "JSON",
											"sid": 387598714741674,
											"parameters": {
												"path": "\"character_data.\"&Parts.At(Parts.IndexOf(CREATOR_part), 1)&\".\"&CREATOR_part&\".offset_x\"",
												"value": "0"
											}
										}
									],
									"sid": 514902336630595
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 415641403758132
								}
							],
							"actions": [
								{
									"callFunction": "setValue",
									"sid": 398509615745017,
									"parameters": [
										"CREATOR_part",
										"\"offset_x\"",
										"clamp(Functions.getValue(CREATOR_part, \"offset_x\"), -1, 1)"
									]
								}
							],
							"sid": 620729020745548
						},
						{
							"eventType": "comment",
							"text": "Offset Y"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "has-key",
									"objectClass": "JSON",
									"sid": 536964244296199,
									"parameters": {
										"path": "\"character_data.\"&Parts.At(Parts.IndexOf(CREATOR_part), 1)&\".\"&CREATOR_part&\".offset_y\""
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 690388466414064,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-at-xy",
											"objectClass": "Parts",
											"sid": 115629882349633,
											"parameters": {
												"x": "Self.IndexOf(part)",
												"y": "3",
												"comparison": 1,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-value",
											"objectClass": "JSON",
											"sid": 955746042196127,
											"parameters": {
												"path": "\"character_data.\"&Parts.At(Parts.IndexOf(CREATOR_part), 1)&\".\"&CREATOR_part&\".offset_y\"",
												"value": "0"
											}
										}
									],
									"sid": 459769662260723
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 732280445849768
								}
							],
							"actions": [
								{
									"callFunction": "setValue",
									"sid": 953595418302068,
									"parameters": [
										"CREATOR_part",
										"\"offset_y\"",
										"clamp(Functions.getValue(CREATOR_part, \"offset_y\"), -1, 1)"
									]
								}
							],
							"sid": 196462725263533
						},
						{
							"eventType": "comment",
							"text": "Scale"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "has-key",
									"objectClass": "JSON",
									"sid": 859049082957199,
									"parameters": {
										"path": "\"character_data.\"&Parts.At(Parts.IndexOf(CREATOR_part), 1)&\".\"&CREATOR_part&\".scale\""
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 383403980488110,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-at-xy",
											"objectClass": "Parts",
											"sid": 695791827993756,
											"parameters": {
												"x": "Self.IndexOf(part)",
												"y": "4",
												"comparison": 1,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-value",
											"objectClass": "JSON",
											"sid": 467507811427404,
											"parameters": {
												"path": "\"character_data.\"&Parts.At(Parts.IndexOf(CREATOR_part), 1)&\".\"&CREATOR_part&\".scale\"",
												"value": "1"
											}
										}
									],
									"sid": 491190843206189
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 668637923084471
								}
							],
							"actions": [
								{
									"callFunction": "setValue",
									"sid": 831564872019721,
									"parameters": [
										"CREATOR_part",
										"\"scale\"",
										"clamp(Functions.getValue(CREATOR_part, \"scale\"), 0.5, 1.5)"
									]
								}
							],
							"sid": 391583438347137
						},
						{
							"eventType": "comment",
							"text": "Rotation"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "has-key",
									"objectClass": "JSON",
									"sid": 773029521851124,
									"parameters": {
										"path": "\"character_data.\"&Parts.At(Parts.IndexOf(CREATOR_part), 1)&\".\"&CREATOR_part&\".rotation\""
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 216110939974246,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-at-xy",
											"objectClass": "Parts",
											"sid": 738525742512783,
											"parameters": {
												"x": "Self.IndexOf(part)",
												"y": "5",
												"comparison": 1,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-value",
											"objectClass": "JSON",
											"sid": 894895511884594,
											"parameters": {
												"path": "\"character_data.\"&Parts.At(Parts.IndexOf(CREATOR_part), 1)&\".\"&CREATOR_part&\".rotation\"",
												"value": "0"
											}
										}
									],
									"sid": 957538172636197
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 581175164136098
								}
							],
							"actions": [
								{
									"callFunction": "setValue",
									"sid": 148733631526103,
									"parameters": [
										"CREATOR_part",
										"\"rotation\"",
										"clamp(round(Functions.getValue(CREATOR_part, \"rotation\")/5)*5, -Parts.At(Parts.IndexOf(CREATOR_part), 5), Parts.At(Parts.IndexOf(CREATOR_part), 5))"
									]
								}
							],
							"sid": 382469059968789
						}
					]
				}
			],
			"sid": 139394377198505
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Creator - Information (Buttons)",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Parts"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 445427273281242,
							"parameters": {
								"tag": "\"button_parts\""
							}
						}
					],
					"actions": [
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 439239286175618,
							"parameters": {
								"audio-file": "select",
								"loop": "not-looping",
								"volume": "(log10(SETTING_volumeSound)*20)",
								"stereo-pan": "0",
								"tag-optional": "\"\""
							}
						},
						{
							"callFunction": "switchMenu",
							"sid": 159146134334405,
							"parameters": [
								"\"Parts\""
							]
						}
					],
					"sid": 345255842644727
				},
				{
					"eventType": "comment",
					"text": "Biographic"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 909944954962954,
							"parameters": {
								"tag": "\"button_biographic\""
							}
						}
					],
					"actions": [
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 755615852460690,
							"parameters": {
								"audio-file": "select",
								"loop": "not-looping",
								"volume": "(log10(SETTING_volumeSound)*20)",
								"stereo-pan": "0",
								"tag-optional": "\"\""
							}
						},
						{
							"callFunction": "switchMenu",
							"sid": 588608231193461,
							"parameters": [
								"\"Biographic\""
							]
						}
					],
					"sid": 635408958316901,
					"children": [
						{
							"eventType": "comment",
							"text": "Update all inputs"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "InputName",
									"sid": 891020388690307,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"name\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "InputName",
									"sid": 754001790005264,
									"parameters": {
										"text": "JSON.Get(\"character_data.info.name\")"
									}
								}
							],
							"sid": 453401194222680
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "InputDropdown",
									"sid": 966791652504719,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"month\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "updateDropdown",
									"sid": 664097728667295,
									"parameters": [
										"\"month\"",
										"\"character_data.info.date_of_birth\""
									]
								}
							],
							"sid": 908086820118298
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "InputDropdown",
									"sid": 427778623435095,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"day\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "updateDropdown",
									"sid": 244894731288133,
									"parameters": [
										"\"day\"",
										"\"character_data.info.date_of_birth\""
									]
								}
							],
							"sid": 250628254801006
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "InputDropdown",
									"sid": 650028334544346,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"year\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "updateDropdown",
									"sid": 268078361643284,
									"parameters": [
										"\"year\"",
										"\"character_data.info.date_of_birth\""
									]
								}
							],
							"sid": 180918530892352
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "InputDropdown",
									"sid": 819620194706620,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"location\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "updateDropdown",
									"sid": 899254355863897,
									"parameters": [
										"\"location\"",
										"\"character_data.info.location\""
									]
								}
							],
							"sid": 135457907109935
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "InputDropdown",
									"sid": 446382775722927,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"ethnicity\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "updateDropdown",
									"sid": 271039573031228,
									"parameters": [
										"\"ethnicity\"",
										"\"character_data.info.ethnicity\""
									]
								}
							],
							"sid": 455133749754121
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "InputDropdown",
									"sid": 628522798510379,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"race#1\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "updateDropdown",
									"sid": 363761022117817,
									"parameters": [
										"\"race#1\"",
										"\"character_data.info.race.0\""
									]
								}
							],
							"sid": 804470551129552
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "InputDropdown",
									"sid": 227518945048903,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"race#2\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "updateDropdown",
									"sid": 321281445031478,
									"parameters": [
										"\"race#2\"",
										"\"character_data.info.race.1\""
									]
								}
							],
							"sid": 444763986460407
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Physical"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 819814220542118,
							"parameters": {
								"tag": "\"button_physical\""
							}
						}
					],
					"actions": [
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 391314677393650,
							"parameters": {
								"audio-file": "select",
								"loop": "not-looping",
								"volume": "(log10(SETTING_volumeSound)*20)",
								"stereo-pan": "0",
								"tag-optional": "\"\""
							}
						},
						{
							"callFunction": "switchMenu",
							"sid": 288315974915931,
							"parameters": [
								"\"Physical\""
							]
						}
					],
					"sid": 219704809527620,
					"children": [
						{
							"eventType": "comment",
							"text": "Update all inputs"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "InputDropdown",
									"sid": 587708258448753,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"sex\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "updateDropdown",
									"sid": 788420560811093,
									"parameters": [
										"\"sex\"",
										"\"character_data.info.sex\""
									]
								}
							],
							"sid": 817038753724277
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "InputDropdown",
									"sid": 942032673637507,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"eye_color\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "updateDropdown",
									"sid": 210188342533362,
									"parameters": [
										"\"eye_color\"",
										"\"character_data.info.eye_color\""
									]
								}
							],
							"sid": 552169958522357
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "InputDropdown",
									"sid": 701519191127829,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"hair_color\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "updateDropdown",
									"sid": 366449851422774,
									"parameters": [
										"\"hair_color\"",
										"\"character_data.info.hair_color\""
									]
								}
							],
							"sid": 678165404208369
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "InputSlider",
									"sid": 911739265183506,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"height\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "updateSlider",
									"sid": 532074697514831,
									"parameters": [
										"\"height\"",
										"\"character_data.info.height_in\"",
										false
									]
								}
							],
							"sid": 140706940358208
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "InputSlider",
									"sid": 642895080748877,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"weight\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "updateSlider",
									"sid": 643158799316979,
									"parameters": [
										"\"weight\"",
										"\"character_data.info.weight_lb\"",
										false
									]
								}
							],
							"sid": 797069668956776
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Card"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 569603693253089,
							"parameters": {
								"tag": "\"button_card\""
							}
						}
					],
					"actions": [
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 907426544625104,
							"parameters": {
								"audio-file": "select",
								"loop": "not-looping",
								"volume": "(log10(SETTING_volumeSound)*20)",
								"stereo-pan": "0",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "destroy",
							"objectClass": "Card",
							"sid": 725178792776081
						},
						{
							"callFunction": "renderCard",
							"sid": 382767527020815,
							"parameters": [
								"JSON.ToCompactString",
								"40",
								"28",
								"\"Card\"",
								"-1"
							]
						},
						{
							"callFunction": "switchMenu",
							"sid": 489452233376666,
							"parameters": [
								"\"Card\""
							]
						}
					],
					"sid": 379396147761487,
					"children": [
						{
							"eventType": "comment",
							"text": "Can't upload; editing, not logged in, or already has a character"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 891127984169432,
									"parameters": {
										"variable": "CREATOR_editing"
									}
								},
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 347820610019950,
									"parameters": {
										"variable": "SERVER_loggedIn"
									},
									"isInverted": true
								},
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 257907322236994,
									"parameters": {
										"variable": "SERVER_hasUploadedCharacter"
									}
								}
							],
							"actions": [
								{
									"callFunction": "switchCardButtons",
									"sid": 870530395687932,
									"parameters": [
										false
									]
								}
							],
							"sid": 360719882119884,
							"isOrBlock": true
						},
						{
							"eventType": "comment",
							"text": "Can upload"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 282791781163140
								}
							],
							"actions": [
								{
									"callFunction": "switchCardButtons",
									"sid": 576042734275761,
									"parameters": [
										true
									]
								}
							],
							"sid": 405306373697214
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Save"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 528530054466620,
							"parameters": {
								"tag": "\"button_save\""
							}
						}
					],
					"actions": [
						{
							"type": "script",
							"language": "typescript",
							"script": [
								"const json_object = runtime.objects.JSON.getFirstInstance();",
								"if (!json_object) return;",
								"",
								"const errors = validateCharacterData(",
								"  json_object.getJsonDataCopy().character_data",
								").errors;",
								"",
								"if (errors.length > 0) {",
								"  // Reject with errors",
								"  runtime.callFunction(\"error\", errors.join(\"\\n\"));",
								"} else {",
								"  runtime.signal(\"saveCharacter\");",
								"}"
							]
						}
					],
					"sid": 172182884612687
				},
				{
					"eventType": "comment",
					"text": "Wildcard"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 961842960516437,
							"parameters": {
								"tag": "\"button_wildcard\""
							}
						}
					],
					"actions": [],
					"sid": 360915457926286,
					"children": [
						{
							"eventType": "comment",
							"text": "Update"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 518826706004729,
									"parameters": {
										"variable": "CREATOR_editing"
									}
								}
							],
							"actions": [
								{
									"type": "script",
									"language": "typescript",
									"script": [
										"const json_object = runtime.objects.JSON.getFirstInstance();",
										"if (!json_object) return;",
										"",
										"const errors = validateCharacterData(",
										"  json_object.getJsonDataCopy().character_data",
										").errors;",
										"",
										"if (errors.length > 0) {",
										"  // Reject with errors",
										"  runtime.callFunction(\"error\", errors.join(\"\\n\"));",
										"} else {",
										"  runtime.signal(\"updateCharacter\");",
										"}"
									]
								}
							],
							"sid": 416223715426000
						},
						{
							"eventType": "comment",
							"text": "Save"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 797269858516689
								}
							],
							"actions": [
								{
									"type": "script",
									"language": "typescript",
									"script": [
										"const json_object = runtime.objects.JSON.getFirstInstance();",
										"if (!json_object) return;",
										"",
										"const errors = validateCharacterData(",
										"  json_object.getJsonDataCopy().character_data",
										").errors;",
										"",
										"if (errors.length > 0) {",
										"  // Reject with errors",
										"  runtime.callFunction(\"error\", errors.join(\"\\n\"));",
										"} else {",
										"  runtime.signal(\"saveCharacter\");",
										"}"
									]
								}
							],
							"sid": 580163116325639
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 788162980207170,
							"parameters": {
								"tag": "\"saveCharacter\""
							}
						}
					],
					"actions": [
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 131434308964522,
							"parameters": {
								"audio-file": "select",
								"loop": "not-looping",
								"volume": "(log10(SETTING_volumeSound)*20)",
								"stereo-pan": "0",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "push",
							"objectClass": "LocalCharacters",
							"sid": 890754773399142,
							"parameters": {
								"where": "back",
								"value": "JSON.ToCompactString",
								"axis": "x"
							}
						},
						{
							"callFunction": "save",
							"sid": 578735710807435
						},
						{
							"callFunction": "transition",
							"sid": 783655456800004,
							"parameters": [
								"\"Plaza\""
							]
						}
					],
					"sid": 699480280171146
				},
				{
					"eventType": "comment",
					"text": "Upload"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 633857099535956,
							"parameters": {
								"tag": "\"button_try_upload\""
							}
						}
					],
					"actions": [
						{
							"type": "script",
							"language": "typescript",
							"script": [
								"const json_object = runtime.objects.JSON.getFirstInstance();",
								"if (!json_object) return;",
								"",
								"const errors = validateCharacterData(",
								"  json_object.getJsonDataCopy().character_data",
								").errors;",
								"",
								"if (errors.length > 0) {",
								"  // Reject with errors",
								"  runtime.callFunction(\"error\", errors.join(\"\\n\"));",
								"} else {",
								"  runtime.signal(\"showDisclaimer\");",
								"}"
							]
						}
					],
					"sid": 777945278549065
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 445104045464719,
							"parameters": {
								"tag": "\"showDisclaimer\""
							}
						}
					],
					"actions": [
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 589473376660654,
							"parameters": {
								"audio-file": "select",
								"loop": "not-looping",
								"volume": "(log10(SETTING_volumeSound)*20)",
								"stereo-pan": "0",
								"tag-optional": "\"\""
							}
						},
						{
							"callFunction": "switchOverlayMenu",
							"sid": 374930340391341,
							"parameters": [
								"\"Disclaimer\""
							]
						}
					],
					"sid": 235688490722742
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 163808397421948,
							"parameters": {
								"tag": "\"button_upload\""
							}
						}
					],
					"actions": [
						{
							"type": "script",
							"language": "typescript",
							"script": [
								"const json_object = runtime.objects.JSON.getFirstInstance();",
								"if (!json_object) return;",
								"",
								"uploadCharacter(json_object.getJsonDataCopy().character_data);"
							]
						}
					],
					"sid": 423328390690165
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 833232522942741,
							"parameters": {
								"tag": "\"updateCharacter\""
							}
						}
					],
					"actions": [],
					"sid": 227401914234547,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 670104647353322,
									"parameters": {
										"variable": "SERVER_hasUploadedCharacter"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 894990708007652,
									"parameters": {
										"variable": "CREATOR_editIndex",
										"comparison": 0,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"type": "script",
									"language": "typescript",
									"script": [
										"const json_object = runtime.objects.JSON.getFirstInstance();",
										"if (!json_object) return;",
										"",
										"updateUserCharacter(json_object.getJsonDataCopy().character_data);"
									]
								}
							],
							"sid": 451897268239110
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 443847570198329
								}
							],
							"actions": [
								{
									"id": "play",
									"objectClass": "Audio",
									"sid": 964327542393347,
									"parameters": {
										"audio-file": "select",
										"loop": "not-looping",
										"volume": "(log10(SETTING_volumeSound)*20)",
										"stereo-pan": "0",
										"tag-optional": "\"\""
									}
								},
								{
									"id": "set-at-x",
									"objectClass": "LocalCharacters",
									"sid": 975134000536964,
									"parameters": {
										"x": "CREATOR_editIndex",
										"value": "JSON.ToCompactString"
									}
								},
								{
									"callFunction": "save",
									"sid": 597637638269508
								},
								{
									"callFunction": "transition",
									"sid": 646177598164461,
									"parameters": [
										"\"Plaza\""
									]
								}
							],
							"sid": 542352369133428
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 900999693683796,
							"parameters": {
								"tag": "\"uploadSuccess\""
							}
						}
					],
					"actions": [
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 992624333003153,
							"parameters": {
								"audio-file": "upload",
								"loop": "not-looping",
								"volume": "(log10(SETTING_volumeSound)*20)",
								"stereo-pan": "0",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 100679580933050,
							"parameters": {
								"variable": "SERVER_uploadedCharacterData",
								"value": "JSON.ToCompactString"
							}
						},
						{
							"callFunction": "switchOverlayMenu",
							"sid": 969663192388346,
							"parameters": [
								"\"\""
							]
						},
						{
							"callFunction": "transition",
							"sid": 847253079071342,
							"parameters": [
								"\"Plaza\""
							]
						}
					],
					"sid": 323612408952061
				}
			],
			"sid": 524615809327212
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Creator - Information (Inputs)",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Name Input"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 993040077309768
						}
					],
					"actions": [
						{
							"type": "script",
							"language": "typescript",
							"script": [
								"const text_object = runtime.objects.InputName.getFirstPickedInstance();",
								"const json_object = runtime.objects.JSON.getFirstInstance();",
								"",
								"// Make all text inputs auto-sanitize",
								"if (text_object) {",
								"  const text_element = text_object.getElement() as HTMLInputElement;",
								"  ",
								"  text_element.addEventListener(\"input\", function () {",
								"    text_element.value = validateInputName(text_object);",
								"    setJSONValue(json_object, \"character_data.info.name\", text_element.value.trim());",
								"  });",
								"",
								"  text_element.addEventListener(\"blur\", function () {",
								"    text_element.value = text_element.value.trim();",
								"  });",
								"}"
							]
						}
					],
					"sid": 557987927318610
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Creator - Information (Dropdowns)",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"functionName": "updateDropdown",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "type",
									"type": "string",
									"initialValue": "sex",
									"comment": "",
									"sid": 941802372517327
								},
								{
									"name": "index",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 635625115032336
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 682245017203009,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "InputDropdown",
											"sid": 132967989651666,
											"parameters": {
												"instance-variable": "type",
												"comparison": 0,
												"value": "type"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 785037528624313,
											"parameters": {
												"variable": "index",
												"value": "JSON.Get(index)"
											}
										},
										{
											"id": "clear",
											"objectClass": "InputDropdown",
											"sid": 903855275511839
										},
										{
											"type": "script",
											"language": "typescript",
											"script": [
												"const json_object = runtime.objects.JSON.getFirstInstance();",
												"type DataType = readonly string[] | Record<string, string>;",
												"",
												"const extractLabels = (obj: Record<string, { label: string, abbr: string }>): Record<string, string> => {",
												"  return Object.fromEntries(Object.entries(obj).map(([k, v]) => [k, v.label]));",
												"};",
												"",
												"const getDataForType = (listType: string, index?: string): DataType => {",
												"  switch (listType) {",
												"    case \"month\":",
												"      return months;",
												"    case \"day\":",
												"      if (!index) return [];",
												"      const [year, month] = index.split(\"-\").map(Number);",
												"      const daysInMonth = new Date(year, month, 0).getDate();",
												"      return Array.from({ length: daysInMonth }, (_, i) =>",
												"        String(i + 1).padStart(2, \"0\"),",
												"      );",
												"    case \"year\":",
												"      const currentYear = new Date().getFullYear();",
												"      return Array.from({ length: currentYear - 1900 + 1 }, (_, i) =>",
												"        String(currentYear - i),",
												"      );",
												"    case \"sex\":",
												"      return extractLabels(sexes);",
												"    case \"location\":",
												"      return countries;",
												"    case \"race#1\":",
												"    case \"race#2\":",
												"      // Races are mutually exclusive",
												"      return getFilteredRaces(listType);",
												"    case \"ethnicity\":",
												"      return extractLabels(ethnicities);",
												"    case \"eye_color\":",
												"      return extractLabels(eye_colors);",
												"    case \"hair_color\":",
												"      return getFilteredHairColors();",
												"    default:",
												"      return [];",
												"  }",
												"};",
												"",
												"const getFilteredRaces = (listType: string): Record<string, string> => {",
												"  const filteredRaces = extractLabels(races);",
												"",
												"  if (listType === \"race#1\") {",
												"    delete filteredRaces[\"none\"];",
												"    delete filteredRaces[",
												"      getJSONValue(json_object, \"character_data.info.race.1\")",
												"    ];",
												"  } else {",
												"    delete filteredRaces[",
												"      getJSONValue(json_object, \"character_data.info.race.0\")",
												"    ];",
												"  }",
												"",
												"  return filteredRaces;",
												"};",
												"",
												"const getFilteredHairColors = (): Record<string, string> => {",
												"  const currentHairAssetId = getJSONValue(",
												"    json_object,",
												"    \"character_data.static.hair.asset_id\",",
												"  );",
												"  const currentHairColor = getJSONValue(",
												"    json_object,",
												"    \"character_data.info.hair_color\",",
												"  );",
												"  const isBald = Number(currentHairAssetId) === 0;",
												"",
												"  if (isBald) {",
												"    return { bald: hair_colors.bald.label };",
												"  } else {",
												"    const filteredHairColors = extractLabels(hair_colors);",
												"    delete filteredHairColors[\"bald\"];",
												"    return filteredHairColors;",
												"  }",
												"};",
												"",
												"const getSelectedIndex = (listType: string, rawIndex: string): string => {",
												"  switch (listType) {",
												"    case \"month\":",
												"      return months[new Date(rawIndex).getUTCMonth()];",
												"    case \"day\":",
												"      return new Date(rawIndex).getUTCDate().toString().padStart(2, \"0\");",
												"    case \"year\":",
												"      return new Date(rawIndex).getUTCFullYear().toString();",
												"    default:",
												"      return rawIndex;",
												"  }",
												"};",
												"",
												"const list_object = runtime.objects.InputDropdown.getFirstPickedInstance();",
												"const list_type = localVars.type;",
												"",
												"const data: DataType = getDataForType(list_type, localVars.index);",
												"",
												"const keys = Array.isArray(data) ? data : Object.keys(data);",
												"const values = Array.isArray(data) ? data : Object.values(data);",
												"",
												"if (list_object) {",
												"  // Add all items to the list",
												"  for (const item of values) {",
												"    list_object.addItem(item);",
												"  }",
												"",
												"  // Set selected item",
												"  const selectedValue = getSelectedIndex(",
												"    list_type.replace(/#.*/, \"\"),",
												"    localVars.index,",
												"  );",
												"  const selectedIndex = keys.indexOf(selectedValue);",
												"",
												"  if (selectedIndex !== -1) {",
												"    list_object.selectedIndex = selectedIndex;",
												"  }",
												"}"
											]
										}
									],
									"sid": 499489582687774
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-selection-changed",
									"objectClass": "InputDropdown",
									"sid": 692790654232512
								}
							],
							"actions": [
								{
									"type": "script",
									"language": "typescript",
									"script": [
										"const list_object = runtime.objects.InputDropdown.getFirstPickedInstance();",
										"if (!list_object) return;",
										"",
										"const list_type = list_object.instVars.type;",
										"const selected = list_object.getSelectedTextAt(0);",
										"",
										"const json_object = runtime.objects.JSON.getFirstInstance();",
										"if (!json_object) return;",
										"",
										"// Get the appropriate key path based on list type",
										"const getJsonKey = (): string => {",
										"  switch (list_type) {",
										"    case \"month\":",
										"    case \"day\":",
										"    case \"year\":",
										"      return \"character_data.info.date_of_birth\";",
										"    case \"race#1\":",
										"      return \"character_data.info.race.0\";",
										"    case \"race#2\":",
										"      return \"character_data.info.race.1\";",
										"    default:",
										"      return `character_data.info.${list_type}`;",
										"  }",
										"};",
										"",
										"const getValue = (): string | null => {",
										"  if ([\"month\", \"day\", \"year\"].includes(list_type)) {",
										"    const current_dob = getJSONValue(",
										"      json_object,",
										"      \"character_data.info.date_of_birth\",",
										"    );",
										"    return buildDateFromComponents(list_type, selected, current_dob);",
										"  }",
										"",
										"  return mapDropdownValueToKey(list_type, selected);",
										"};",
										"",
										"const refreshRelatedDropdowns = (): void => {",
										"  if ([\"month\", \"year\"].includes(list_type)) {",
										"    runtime.callFunction(",
										"      \"updateDropdown\",",
										"      \"day\",",
										"      \"character_data.info.date_of_birth\",",
										"    );",
										"  } else if ([\"race#1\", \"race#2\"].includes(list_type)) {",
										"    runtime.callFunction(",
										"      \"updateDropdown\",",
										"      \"race#1\",",
										"      \"character_data.info.race.0\",",
										"    );",
										"    runtime.callFunction(",
										"      \"updateDropdown\",",
										"      \"race#2\",",
										"      \"character_data.info.race.1\",",
										"    );",
										"  }",
										"};",
										"",
										"const key = getJsonKey();",
										"const value = getValue();",
										"",
										"if (list_type === \"hair_color\") {",
										"  const currentHairAssetId = getJSONValue(",
										"    json_object,",
										"    \"character_data.static.hair.asset_id\",",
										"  );",
										"  const currentHairColor = getJSONValue(",
										"    json_object,",
										"    \"character_data.info.hair_color\",",
										"  );",
										"  const wasBald = Number(currentHairAssetId) === 0;",
										"  const willBeBald = value === \"bald\";",
										"",
										"  if (wasBald && !willBeBald && value !== \"bald\") {",
										"    setJSONValue(json_object, key, \"black\");",
										"    runtime.callFunction(",
										"      \"updateDropdown\",",
										"      \"hair_color\",",
										"      \"character_data.info.hair_color\",",
										"    );",
										"    return;",
										"  }",
										"}",
										"",
										"if (list_type.startsWith(\"race\")) {",
										"  handleRaceMutualExclusivity(json_object, list_type, value);",
										"}",
										"",
										"if (shouldDeleteField(value, list_type)) {",
										"  deleteJSONValue(json_object, key);",
										"} else {",
										"  setJSONValue(json_object, key, value!);",
										"}",
										"",
										"refreshRelatedDropdowns();"
									]
								}
							],
							"sid": 170824443218670
						}
					],
					"sid": 837251373850112
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Creator - Information (Sliders)",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-changing",
									"objectClass": "InputSlider",
									"sid": 203426963354447
								},
								{
									"id": "on-changed",
									"objectClass": "InputSlider",
									"sid": 950568935398721
								}
							],
							"actions": [],
							"sid": 760731897983972,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "InputSlider",
											"sid": 378304123321623,
											"parameters": {
												"instance-variable": "type",
												"comparison": 0,
												"value": "\"height\""
											}
										}
									],
									"actions": [
										{
											"callFunction": "updateSlider",
											"sid": 619515388511360,
											"parameters": [
												"\"height\"",
												"\"character_data.info.height_in\"",
												true
											]
										}
									],
									"sid": 622959146195838
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "InputSlider",
											"sid": 740901321705060,
											"parameters": {
												"instance-variable": "type",
												"comparison": 0,
												"value": "\"weight\""
											}
										}
									],
									"actions": [
										{
											"callFunction": "updateSlider",
											"sid": 533633209137856,
											"parameters": [
												"\"weight\"",
												"\"character_data.info.weight_lb\"",
												true
											]
										}
									],
									"sid": 513288875210813
								}
							],
							"isOrBlock": true
						},
						{
							"functionName": "updateSlider",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "type",
									"type": "string",
									"initialValue": "height",
									"comment": "",
									"sid": 771486731787787
								},
								{
									"name": "index",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 584670133931944
								},
								{
									"name": "set",
									"type": "boolean",
									"initialValue": "false",
									"comment": "",
									"sid": 686480533808707
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 475833440704974,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "InputSlider",
											"sid": 790319866244945,
											"parameters": {
												"instance-variable": "type",
												"comparison": 0,
												"value": "type"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Text",
											"sid": 561171990426788,
											"parameters": {
												"instance-variable": "type",
												"comparison": 0,
												"value": "type"
											}
										}
									],
									"actions": [],
									"sid": 417891974778180,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-boolean-eventvar",
													"objectClass": "System",
													"sid": 992793662523867,
													"parameters": {
														"variable": "set"
													}
												}
											],
											"actions": [
												{
													"id": "set-value",
													"objectClass": "JSON",
													"sid": 450844017540274,
													"parameters": {
														"path": "index",
														"value": "InputSlider.Value"
													}
												}
											],
											"sid": 653803434121271
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 386987798517139
												}
											],
											"actions": [
												{
													"id": "set-value",
													"objectClass": "InputSlider",
													"sid": 699115516946145,
													"parameters": {
														"value": "JSON.Get(index)"
													}
												}
											],
											"sid": 638034950245055
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 266670818415101,
													"parameters": {
														"variable": "type",
														"comparison": 0,
														"value": "\"height\""
													}
												}
											],
											"actions": [
												{
													"id": "set-text",
													"objectClass": "Text",
													"sid": 111321068920239,
													"parameters": {
														"text": "floor(InputSlider.Value/12)&\"'-\"&zeropad(InputSlider.Value%12, 2)&\"\"\"\"\n"
													}
												}
											],
											"sid": 356161781718583
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 723230836896815,
													"parameters": {
														"variable": "type",
														"comparison": 0,
														"value": "\"weight\""
													}
												}
											],
											"actions": [
												{
													"id": "set-text",
													"objectClass": "Text",
													"sid": 651403352944979,
													"parameters": {
														"text": "InputSlider.Value&\" lb\""
													}
												}
											],
											"sid": 325679718053973
										}
									]
								}
							]
						}
					],
					"sid": 926770877973889
				}
			],
			"sid": 132593179489904
		}
	],
	"sid": 247199195301411
}